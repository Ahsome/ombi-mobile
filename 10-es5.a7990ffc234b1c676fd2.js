!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{viRw:function(t,i,o){"use strict";o.r(i),o.d(i,"PagesRoutingModule",(function(){return he}));var s,a,c,u,l,h,p,f,b,d=o("tyNb"),v=o("F8fz"),g=o("AUE5"),m=function(e){return e.OFF="off",e.ON="on",e.CURRENT_PASSWORD="current-password",e.EMAIL="email",e.USERNAME="username",e}({}),y=function(e){return e.TEXT="text",e.EMAIL="email",e.PASSWORD="password",e.URL="url",e}({}),k=o("fXoL"),w=o("3Ewt"),q=o("LLt/"),O=o("fPRZ"),C=o("TEn/"),S=((u=function(){function e(){n(this,e),this.title=""}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||u)},u.\u0275cmp=k.Bb({type:u,selectors:[["app-header"]],inputs:{title:"title"},decls:2,vars:1,template:function(e,t){1&e&&(k.Kb(0,"h1"),k.fc(1),k.Jb()),2&e&&(k.xb(1),k.gc(t.title))},styles:["h1[_ngcontent-%COMP%]{margin:75px 0 0 20px;font-size:3em}"]}),u),x=((c=function(){function e(){n(this,e),this.label="",this.autocomplete=m.OFF,this.type=y.TEXT,this.required=!1,this.disabled=!1,this.placeholder="",this.value="",this.valueChange=new k.n}return r(e,[{key:"ngOnInit",value:function(){}},{key:"updateValue",value:function(e){this.value=e,this.valueChange.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||c)},c.\u0275cmp=k.Bb({type:c,selectors:[["app-input"]],inputs:{label:"label",autocomplete:"autocomplete",type:"type",required:"required",disabled:"disabled",placeholder:"placeholder",value:"value"},outputs:{valueChange:"valueChange"},decls:4,vars:7,consts:[["position","stacked"],[3,"autocomplete","type","required","disabled","placeholder","value","ionChange"]],template:function(e,t){1&e&&(k.Kb(0,"ion-item"),k.Kb(1,"ion-label",0),k.fc(2),k.Jb(),k.Kb(3,"ion-input",1),k.Sb("ionChange",(function(e){return t.updateValue(e.detail.value)})),k.Jb(),k.Jb()),2&e&&(k.xb(2),k.gc(t.label),k.xb(1),k.Yb("autocomplete",t.autocomplete),k.Yb("type",t.type),k.Yb("required",t.required),k.Yb("disabled",t.disabled),k.Yb("placeholder",t.placeholder),k.Xb("value",t.value))},directives:[C.k,C.l,C.j,C.A],styles:[""]}),c),P=((a=function(){function e(){n(this,e),this.label="",this.size="default",this.disabled=!1,this.color="primary",this.fill="solid",this.action=new k.n}return r(e,[{key:"ngOnInit",value:function(){}},{key:"handleClick",value:function(e){null==e||e.stopPropagation(),this.action.emit()}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=k.Bb({type:a,selectors:[["app-button"]],inputs:{label:"label",size:"size",disabled:"disabled",color:"color",fill:"fill"},outputs:{action:"action"},decls:2,vars:5,consts:[["expand","block",3,"size","disabled","color","fill","click"]],template:function(e,t){1&e&&(k.Kb(0,"ion-button",0),k.Sb("click",(function(e){return t.handleClick(e)})),k.fc(1),k.Jb()),2&e&&(k.Xb("size",t.size)("disabled",t.disabled)("color",t.color)("fill",t.fill),k.xb(1),k.hc(" ",t.label,"\n"))},directives:[C.d],styles:["ion-button[_ngcontent-%COMP%]{text-transform:capitalize}"]}),a),M=((s=function(){function e(t,i,r){n(this,e),this.credentials=t,this.auth=i,this.toast=r,this.model={ombiUrl:"",username:"",password:""}}return r(e,[{key:"ngOnInit",value:function(){this.model.ombiUrl=this.credentials.baseUrl,this.model.username=this.credentials.username,this.model.password=this.credentials.password}},{key:"submit",value:function(){var e=this;this.credentials.baseUrl=this.model.ombiUrl,this.credentials.username=this.model.username,this.credentials.password=this.model.password,this.auth.fetchToken().then((function(t){return e.toast.show(g.a.SUCCESS,"Successfully signed in as ".concat(e.credentials.name,"!"))}))}},{key:"inputType",get:function(){return y}}]),e}()).\u0275fac=function(e){return new(e||s)(k.Hb(w.a),k.Hb(q.a),k.Hb(O.a))},s.\u0275cmp=k.Bb({type:s,selectors:[["app-config"]],decls:8,vars:5,consts:[["title","Config"],["scrollY","false"],[1,"form"],["label","URL","placeholder","Ombi Server URL",3,"type","value","valueChange"],["label","Username","placeholder","Username",3,"value","valueChange"],["label","Password","placeholder","Password",3,"type","value","valueChange"],["label","Submit",3,"action"]],template:function(e,t){1&e&&(k.Kb(0,"ion-header"),k.Ib(1,"app-header",0),k.Jb(),k.Kb(2,"ion-content",1),k.Kb(3,"div",2),k.Kb(4,"app-input",3),k.Sb("valueChange",(function(e){return t.model.ombiUrl=e})),k.Jb(),k.Kb(5,"app-input",4),k.Sb("valueChange",(function(e){return t.model.username=e})),k.Jb(),k.Kb(6,"app-input",5),k.Sb("valueChange",(function(e){return t.model.password=e})),k.Jb(),k.Kb(7,"app-button",6),k.Sb("action",(function(){return t.submit()})),k.Jb(),k.Jb(),k.Jb()),2&e&&(k.xb(4),k.Xb("type",t.inputType.URL)("value",t.model.ombiUrl),k.xb(1),k.Xb("value",t.model.username),k.xb(1),k.Xb("type",t.inputType.PASSWORD)("value",t.model.password))},directives:[C.h,S,C.g,x,P],styles:[".form[_ngcontent-%COMP%]{margin-top:40px}.form[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{position:relative;top:20px;padding:0 18px;width:100%;display:inline-block}"]}),s),R=function(){function e(t){n(this,e),this.movie=t,this.type=v.f.MOVIE,this.buttons=[]}return r(e,[{key:"disable",value:function(){this.movie.request.requested=!0}},{key:"id",get:function(){return this.movie.id}},{key:"title",get:function(){return this.movie.title}},{key:"description",get:function(){return this.movie.description}},{key:"posterUrl",get:function(){return this.movie.posterUrl}},{key:"tags",get:function(){var e=[];return void 0!==this.requested&&e.push({color:this.available||this.approved?"success":this.requested?"warning":"danger",text:this.available?"Available":this.approved?"Approved":this.requested?"Requested":"Not Requested"}),e.push({color:"primary",text:new Date(this.movie.releaseDate).toLocaleDateString()}),e}},{key:"available",get:function(){return this.movie.available}},{key:"requested",get:function(){var e;return null===(e=this.movie.request)||void 0===e?void 0:e.requested},set:function(e){this.movie.request.requested=e}},{key:"approved",get:function(){var e;return null===(e=this.movie.request)||void 0===e?void 0:e.approved}}]),e}(),I=function(){function e(t){n(this,e),this.tvShow=t,this.type=v.f.TV,this.buttons=[]}return r(e,[{key:"disable",value:function(){this.tvShow.request.requested=!0}},{key:"id",get:function(){return this.tvShow.id}},{key:"title",get:function(){return this.tvShow.title}},{key:"posterUrl",get:function(){return this.tvShow.posterUrl}},{key:"description",get:function(){return this.tvShow.description}},{key:"tags",get:function(){return[{color:this.available||this.approved?"success":this.requested||this.partlyAvailable?"warning":"danger",text:this.available?"Available":this.approved?"Approved":this.requested?"Requested":this.partlyAvailable?"Partly Available":"Not Requested"},{color:"primary",text:new Date(this.tvShow.aired).toLocaleDateString()},{color:"tertiary",text:this.tvShow.network}]}},{key:"available",get:function(){return this.tvShow.available}},{key:"partlyAvailable",get:function(){return this.tvShow.partlyAvailable}},{key:"requested",get:function(){return this.tvShow.request.requested},set:function(e){this.tvShow.request.requested=e}},{key:"approved",get:function(){return this.tvShow.request.approved}}]),e}(),A=function(e,t,n){return t==v.f.TV?e.childRequests[0][n]:e[n]},T=function(t){var n;return(n=Array.prototype).concat.apply(n,e(t)).sort((function(e,t){return t.request.date-e.request.date}))},_=o("hD8V"),J=((l=function(){function e(t,i){n(this,e),this.api=t,this.toast=i}return r(e,[{key:"list",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.f.MOVIE,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v.d.REQUEST_DATE_DESC,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:v.e.NO_FILTER,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:v.c.NO_FILTER;return this.api.get("/Request/".concat(t,"/").concat(n,"/").concat(i,"/").concat(r,"/").concat(o,"/").concat(s),{},{}).then((function(n){return e.format(n.collection,t)}))}},{key:"search",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.f.MOVIE,n=arguments.length>1?arguments[1]:void 0;return this.api.get("/Request/".concat(t,"/search/").concat(n),{},{}).then((function(n){return e.format(n.collection,t)}))}},{key:"request",value:function(e,t){var n=this;return this.api.post("/Request/"+e,{},this.requestBody(e,t)).then((function(e){return n.toast.show(e.isError?g.a.ERROR:g.a.SUCCESS,e[e.isError?"errorMessage":"message"])}))}},{key:"performAction",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.api[e==v.a.APPROVE?"post":"put"]("/Request/".concat(t,"/").concat(e),{},{id:i}).then((function(){return n.toast.show(g.a.SUCCESS,"Successfully ".concat(e==v.a.APPROVE?"approved":"denied"," request"))}))}},{key:"format",value:function(e,t){return e.map((function(e){return{id:(null==e?void 0:e.theMovieDbId)||(null==e?void 0:e.imdbId),title:e.title,description:e.overview,posterUrl:e.posterPath,request:{id:e.id,requested:!0,approved:A(e,t,"approved"),denied:A(e,t,"denied"),date:new Date(A(e,t,"requestedDate")),user:{alias:A(e,t,"requestedUser").alias,email:A(e,t,"requestedUser").email,name:A(e,t,"requestedUser").userName}},available:e.childRequests?-1==e.childRequests.map((function(e){return e.available})).indexOf([!0]):e.available,type:t}}))}},{key:"requestBody",value:function(e,t){return e==v.f.MOVIE?{theMovieDbId:t,languageCode:"en"}:{firstSeason:!1,latestSeason:!1,requestAll:!0,tvDbId:t}}}]),e}()).\u0275fac=function(e){return new(e||l)(k.Ob(_.a),k.Ob(O.a))},l.\u0275prov=k.Db({token:l,factory:l.\u0275fac,providedIn:"root"}),l),K=function(e){return e.POPULAR="popular",e.UPCOMING="upcoming",e.TOP_RATED="toprated",e.NOW_PLAYING="nowplaying",e}({}),U=((h=function(){function e(t){n(this,e),this.api=t,this.movieCache={}}return r(e,[{key:"list",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K.POPULAR;return this.api.get("/search/Movie/"+t,{},{}).then(this.format).then((function(t){return e.cacheResults(t)}))}},{key:"search",value:function(e){var t=this;return this.api.post("/search/Movie/",{},{searchTerm:e,languageCode:"en"}).then(this.format).then((function(e){return t.cacheResults(e)}))}},{key:"cache",value:function(e){this.movieCache[e.id]=e}},{key:"cacheResults",value:function(e){var t=this;return e.forEach((function(e){return t.movieCache[e.id]=e})),e}},{key:"format",value:function(e){return e.map((function(e){return{id:e.id,title:e.title,description:e.overview,posterUrl:"https://image.tmdb.org/t/p/w300"+e.posterPath,request:{id:e.requestId,requested:e.requested,approved:e.approved,denied:e.denied},releaseDate:e.releaseDate,available:e.available}}))}},{key:"movies",get:function(){return this.movieCache}}]),e}()).\u0275fac=function(e){return new(e||h)(k.Ob(_.a))},h.\u0275prov=k.Db({token:h,factory:h.\u0275fac,providedIn:"root"}),h),E=o("mrSG"),V=function(e){return e.POPULAR="popular",e.TRENDING="trending",e.MOST_WATCHED="mostwatched",e.ANTICIPATED="anticipated",e}({}),D=((b=function(){function e(t){n(this,e),this.api=t,this.showCache={}}return r(e,[{key:"list",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V.POPULAR;return this.api.get("/search/Tv/"+t,{},{}).then(this.format).then((function(t){return Promise.all(t.map((function(t){return Object(E.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getInfo(t.id);case 2:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=6;break}e.t0=void 0===n;case 6:if(!e.t0){e.next=10;break}e.t2=void 0,e.next=11;break;case 10:e.t2=n.banner;case 11:return t.posterUrl=e.t2,e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,this)})))})))})).then((function(t){return e.cacheResults(t)}))}},{key:"search",value:function(e){var t=this;return this.api.get("/search/Tv/"+e,{},{}).then(this.format).then((function(e){return Promise.all(e.map((function(e){return Object(E.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getInfo(e.id);case 2:if(t.t1=n=t.sent,t.t0=null===t.t1,t.t0){t.next=6;break}t.t0=void 0===n;case 6:if(!t.t0){t.next=10;break}t.t2=void 0,t.next=11;break;case 10:t.t2=n.banner;case 11:return e.posterUrl=t.t2,t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,this)})))})))})).then((function(e){return t.cacheResults(e)}))}},{key:"getImage",value:function(e){return this.api.get("/Images/tv/"+e,{},{})}},{key:"cache",value:function(e){this.showCache[e.id]=e}},{key:"getInfo",value:function(e){return this.api.get("/search/Tv/info/"+e,{},{})}},{key:"cacheResults",value:function(e){var t=this;return e.forEach((function(e){return t.showCache[e.id]=e})),e}},{key:"format",value:function(e){return e.map((function(e){return{id:e.id,title:e.title,description:e.overview,request:{id:e.requestId,requested:e.requested,approved:e.approved,denied:e.denied,type:{all:e.requestAll,firstSeason:e.firstSeason,latestSeason:e.latestSeason},seasons:e.seasonRequests},network:e.network,status:e.status,aired:e.firstAired,available:e.available,partlyAvailable:e.partlyAvailable}}))}},{key:"shows",get:function(){return this.showCache}}]),e}()).\u0275fac=function(e){return new(e||b)(k.Ob(_.a))},b.\u0275prov=k.Db({token:b,factory:b.\u0275fac,providedIn:"root"}),b),L=((f=function(){function e(t,i,r,o,s){n(this,e),this.requests=t,this.route=i,this.router=r,this.movieService=o,this.tvService=s,this.back=new k.n}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.subscription=this.route.paramMap.subscribe((function(t){var n,i,r,o,s=t.get("type"),a=t.get("id");switch(s){case v.b.TV:(null===(n=e.tvService)||void 0===n?void 0:n.shows[a])?e.content=new I(null===(i=e.tvService)||void 0===i?void 0:i.shows[a]):e.router.navigate(["/"]);break;case v.b.MOVIE:(null===(r=e.movieService)||void 0===r?void 0:r.movies[a])?e.content=new R(null===(o=e.movieService)||void 0===o?void 0:o.movies[a]):e.router.navigate(["/"])}}))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"goBack",value:function(){this.back.emit()}},{key:"request",value:function(){var e=this;this.requests.request(this.content.type,this.content.id).then((function(){return e.content.requested=!0}))}},{key:"type",get:function(){return this.content.type}},{key:"label",get:function(){return this.content.available?"Available":this.content.requested?"Requested":"Request "+(this.type==v.f.TV?this.type.toUpperCase():this.type)}},{key:"color",get:function(){return this.content.available?"success":this.content.requested?"warning":"success"}}]),e}()).\u0275fac=function(e){return new(e||f)(k.Hb(J),k.Hb(d.a),k.Hb(d.g),k.Hb(U),k.Hb(D))},f.\u0275cmp=k.Bb({type:f,selectors:[["app-content"]],outputs:{back:"back"},decls:13,vars:6,consts:[["translucent","true"],["slot","start"],["default-href","movies",3,"click"],[1,"content"],["fill","outline",3,"disabled","label","color","action"],[3,"src"]],template:function(e,t){1&e&&(k.Kb(0,"ion-header",0),k.Kb(1,"ion-toolbar"),k.Kb(2,"ion-buttons",1),k.Kb(3,"ion-back-button",2),k.Sb("click",(function(){return t.goBack()})),k.Jb(),k.Jb(),k.Kb(4,"ion-title"),k.fc(5),k.Jb(),k.Jb(),k.Jb(),k.Kb(6,"ion-content"),k.Kb(7,"div",3),k.Kb(8,"app-button",4),k.Sb("action",(function(){return t.request()})),k.Jb(),k.Ib(9,"img",5),k.Ib(10,"br"),k.Kb(11,"p"),k.fc(12),k.Jb(),k.Jb(),k.Jb()),2&e&&(k.xb(5),k.gc(null==t.content?null:t.content.title),k.xb(3),k.Xb("disabled",t.content.requested||t.content.available)("label",t.label)("color",t.color),k.xb(1),k.Yb("src",t.content.posterUrl,k.cc),k.xb(3),k.gc(t.content.description))},directives:[C.h,C.w,C.e,C.b,C.c,C.v,C.g,P],styles:["[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:45%}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{margin:10px;font-size:1.2em}[_nghost-%COMP%]   app-button[_ngcontent-%COMP%]{float:right;width:52%;margin-top:190px}"]}),f),X=((p=function(){function e(){n(this,e),this.placeholder="",this.change=new k.n}return r(e,[{key:"ngOnInit",value:function(){}},{key:"updateValue",value:function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.change.emit(e)}),500)}}]),e}()).\u0275fac=function(e){return new(e||p)},p.\u0275cmp=k.Bb({type:p,selectors:[["app-search"]],inputs:{placeholder:"placeholder"},outputs:{change:"change"},decls:1,vars:1,consts:[[3,"placeholder","ionChange"]],template:function(e,t){1&e&&(k.Kb(0,"ion-searchbar",0),k.Sb("ionChange",(function(e){return t.updateValue(e.detail.value)})),k.Jb()),2&e&&k.Xb("placeholder",t.placeholder)},directives:[C.r,C.A],styles:[""]}),p),F=o("ofXK");function B(e,t){if(1&e){var n=k.Lb();k.Kb(0,"app-button",12),k.Sb("action",(function(){k.bc(n);var e=t.$implicit;return k.Ub(2).performAction(e.action)})),k.Jb()}if(2&e){var i=t.$implicit;k.Xb("label",i.label)("color",i.color)("disabled",i.disabled)}}function N(e,t){if(1&e&&(k.Kb(0,"div",10),k.ec(1,B,1,3,"app-button",11),k.Jb()),2&e){var n=k.Ub();k.xb(1),k.Xb("ngForOf",n.content.buttons)}}function H(e,t){if(1&e&&(k.Kb(0,"ion-chip"),k.Kb(1,"ion-label",13),k.fc(2),k.Jb(),k.Jb()),2&e){var n=t.$implicit;k.xb(1),k.Xb("color",n.color),k.xb(1),k.gc(n.text)}}var j,z=[[["buttons-slot"]]],Y=function(e){return{hasButtons:e}},$=["buttons-slot"],W=((j=function(){function e(){n(this,e),this.click=new k.n}return r(e,[{key:"ngOnInit",value:function(){}},{key:"performAction",value:function(e){var t=this;this.requestsService.performAction(e,this.content.type,this.content.requestId).then((function(n){t.content[e==v.a.APPROVE?"approve":"deny"]()}))}},{key:"hasButtons",get:function(){var e,t;return(null===(t=null===(e=this.content)||void 0===e?void 0:e.buttons)||void 0===t?void 0:t.length)>0}}]),e}()).\u0275fac=function(e){return new(e||j)},j.\u0275cmp=k.Bb({type:j,selectors:[["app-content-row"]],inputs:{content:"content",requestsService:"requestsService"},outputs:{click:"click"},ngContentSelectors:$,decls:14,vars:8,consts:[[3,"click"],[1,"content-row"],[1,"content-top"],[1,"poster"],[3,"src"],[1,"info"],[3,"ngClass"],["class","buttons",4,"ngIf"],[1,"content-bottom"],[4,"ngFor","ngForOf"],[1,"buttons"],["size","default","fill","outline",3,"label","color","disabled","action",4,"ngFor","ngForOf"],["size","default","fill","outline",3,"label","color","disabled","action"],["disabled","true",3,"color"]],template:function(e,t){1&e&&(k.Wb(z),k.Kb(0,"ion-item",0),k.Sb("click",(function(){return t.click.emit()})),k.Kb(1,"div",1),k.Kb(2,"div",2),k.Kb(3,"div",3),k.Ib(4,"img",4),k.Jb(),k.Kb(5,"div",5),k.Kb(6,"h2"),k.fc(7),k.Jb(),k.Kb(8,"p",6),k.fc(9),k.Jb(),k.Vb(10),k.ec(11,N,2,1,"div",7),k.Jb(),k.Jb(),k.Kb(12,"div",8),k.ec(13,H,3,2,"ion-chip",9),k.Jb(),k.Jb(),k.Jb()),2&e&&(k.xb(4),k.Yb("src",t.content.posterUrl,k.cc),k.xb(3),k.gc(t.content.title),k.xb(1),k.Xb("ngClass",k.Zb(6,Y,t.hasButtons)),k.xb(1),k.gc(t.content.description),k.xb(2),k.Xb("ngIf",t.hasButtons),k.xb(2),k.Xb("ngForOf",t.content.tags))},directives:[C.k,F.h,F.j,F.i,P,C.f,C.l],styles:[".content-row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-row[_ngcontent-%COMP%]   .content-top[_ngcontent-%COMP%]{display:flex;height:190px}.content-row[_ngcontent-%COMP%]   .content-top[_ngcontent-%COMP%]   .poster[_ngcontent-%COMP%]{flex:0 0 auto;margin:20px 0 15px;padding-right:10px;height:160px}.content-row[_ngcontent-%COMP%]   .content-top[_ngcontent-%COMP%]   .poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%}.content-row[_ngcontent-%COMP%]   .content-top[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;text-align:initial;flex-direction:column}.content-row[_ngcontent-%COMP%]   .content-top[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:5px}.content-row[_ngcontent-%COMP%]   .content-top[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.5em;word-wrap:break-word;text-overflow:ellipsis;overflow:hidden;flex-grow:1;margin-bottom:8px}.content-row[_ngcontent-%COMP%]   .content-top[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p.hasButtons[_ngcontent-%COMP%]{max-height:75px}.content-row[_ngcontent-%COMP%]   .content-top[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;align-content:right}.content-row[_ngcontent-%COMP%]   .content-top[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{flex-grow:1}.content-row[_ngcontent-%COMP%]   .content-bottom[_ngcontent-%COMP%]{display:flex;margin:0 0 8px -3px;width:calc(100% - 12px)}"]}),j);function G(e,t){1&e&&k.Ib(0,"ion-progress-bar",6)}function Z(e,t){if(1&e){var n=k.Lb();k.Kb(0,"app-content-row",7),k.Sb("click",(function(){k.bc(n);var e=t.$implicit;return k.Ub().showContent(e)})),k.Jb()}if(2&e){var i=t.$implicit,r=k.Ub();k.Xb("content",r.content(i))}}var Q,ee=((Q=function(){function e(t,i){n(this,e),this.movie=t,this.router=i,this.movies=[],this.searchTerm=""}return r(e,[{key:"ngOnInit",value:function(){this.fetchAllMovies()}},{key:"ngOnDestroy",value:function(){this.movies=[]}},{key:"searchChange",value:function(e){"string"==typeof e&&(this.searchTerm=e,""!=e&&e?this.searchMovies():this.fetchAllMovies())}},{key:"fetchAllMovies",value:function(){var e=this;return this.movie.list().then((function(t){return e.movies=t}))}},{key:"searchMovies",value:function(){var e=this;return this.movie.search(this.searchTerm).then((function(t){return e.movies=t}))}},{key:"content",value:function(e){return new R(e)}},{key:"showContent",value:function(e){this.router.navigate([v.b.MOVIE,e.id])}},{key:"refresh",value:function(e){(""==this.searchTerm?this.fetchAllMovies():this.searchMovies()).then((function(){return e.target.complete()}))}}]),e}()).\u0275fac=function(e){return new(e||Q)(k.Hb(U),k.Hb(d.g))},Q.\u0275cmp=k.Bb({type:Q,selectors:[["app-movies"]],decls:9,vars:2,consts:[["title","Movies"],["placeholder","Search Movies",3,"change"],["color","primary","type","indeterminate",4,"ngIf"],["slot","fixed",3,"ionRefresh"],["lines","full"],[3,"content","click",4,"ngFor","ngForOf"],["color","primary","type","indeterminate"],[3,"content","click"]],template:function(e,t){1&e&&(k.Kb(0,"ion-header"),k.Ib(1,"app-header",0),k.Kb(2,"app-search",1),k.Sb("change",(function(e){return t.searchChange(e)})),k.Jb(),k.Jb(),k.Kb(3,"ion-content"),k.ec(4,G,1,0,"ion-progress-bar",2),k.Kb(5,"ion-refresher",3),k.Sb("ionRefresh",(function(e){return t.refresh(e)})),k.Ib(6,"ion-refresher-content"),k.Jb(),k.Kb(7,"ion-list",4),k.ec(8,Z,1,1,"app-content-row",5),k.Jb(),k.Jb()),2&e&&(k.xb(4),k.Xb("ngIf",0==t.movies.length),k.xb(4),k.Xb("ngForOf",t.movies))},directives:[C.h,S,X,C.g,F.j,C.o,C.p,C.m,F.i,C.n,W],styles:[""]}),Q),te=function(){function e(t){n(this,e),this.request=t}return r(e,[{key:"deny",value:function(){this.request.request.denied=!0}},{key:"approve",value:function(){this.request.request.approved=!0}},{key:"disable",value:function(){}},{key:"id",get:function(){return this.request.id}},{key:"title",get:function(){return this.request.title}},{key:"description",get:function(){return this.request.description}},{key:"tags",get:function(){return[{color:this.type==v.f.TV?"tertiary":"danger",text:this.type==v.f.TV?this.type.toUpperCase():this.type},{color:"primary",text:this.request.request.user.name}]}},{key:"available",get:function(){return this.request.available}},{key:"approved",get:function(){return this.request.request.approved}},{key:"denied",get:function(){return this.request.request.denied}},{key:"posterUrl",get:function(){return this.type==v.f.MOVIE?"https://image.tmdb.org/t/p/w300//"+this.request.posterUrl:this.request.posterUrl}},{key:"requested",get:function(){return!0}},{key:"requestId",get:function(){return this.request.request.id}},{key:"type",get:function(){return this.request.type}},{key:"buttons",get:function(){return this.approved?[{label:"Approved",color:"success",action:void 0,disabled:!0}]:this.denied?[{label:"Denied",color:"danger",action:void 0,disabled:!0}]:[{label:"Deny",color:"danger",action:v.a.DENY},{label:"Approve",color:"success",action:v.a.APPROVE}]}}]),e}();function ne(e,t){1&e&&k.Ib(0,"ion-progress-bar",6)}function ie(e,t){if(1&e&&k.Ib(0,"app-content-row",7),2&e){var n=t.$implicit,i=k.Ub();k.Xb("content",i.content(n))("requestsService",i.request)}}var re,oe=((re=function(){function e(t){n(this,e),this.request=t,this.contentList=[],this.selectedRequestType=v.f.MOVIE,this.searchTerm=""}return r(e,[{key:"ngOnInit",value:function(){this.fetchAllRequests()}},{key:"ngOnDestroy",value:function(){this.contentList=[]}},{key:"typeChange",value:function(e){this.selectedRequestType=e.detail.value,""!=this.searchTerm&&this.searchTerm?this.searchRequests():this.fetchAllRequests()}},{key:"searchChange",value:function(e){this.searchTerm=e,""!=this.searchTerm&&this.searchTerm?this.searchRequests():this.fetchAllRequests()}},{key:"fetchAllRequests",value:function(){var e=this;return Promise.all([this.request.list(v.f.MOVIE),this.request.list(v.f.TV)]).then((function(t){return e.contentList=T(t)}))}},{key:"searchRequests",value:function(){var e=this;return Promise.all([this.request.search(v.f.MOVIE,this.searchTerm),this.request.search(v.f.TV,this.searchTerm)]).then((function(t){return e.contentList=T(t)}))}},{key:"content",value:function(e){return new te(e)}},{key:"refresh",value:function(e){(""==this.searchTerm?this.fetchAllRequests():this.searchRequests()).then((function(){return e.target.complete()}))}},{key:"requestType",get:function(){return v.f}}]),e}()).\u0275fac=function(e){return new(e||re)(k.Hb(J))},re.\u0275cmp=k.Bb({type:re,selectors:[["app-requests"]],decls:9,vars:2,consts:[["title","Requests"],["placeholder","Search Requests",3,"change"],["color","primary","type","indeterminate",4,"ngIf"],["slot","fixed",3,"ionRefresh"],["lines","full"],[3,"content","requestsService",4,"ngFor","ngForOf"],["color","primary","type","indeterminate"],[3,"content","requestsService"]],template:function(e,t){1&e&&(k.Kb(0,"ion-header"),k.Ib(1,"app-header",0),k.Kb(2,"app-search",1),k.Sb("change",(function(e){return t.searchChange(e)})),k.Jb(),k.Jb(),k.Kb(3,"ion-content"),k.ec(4,ne,1,0,"ion-progress-bar",2),k.Kb(5,"ion-refresher",3),k.Sb("ionRefresh",(function(e){return t.refresh(e)})),k.Ib(6,"ion-refresher-content"),k.Jb(),k.Kb(7,"ion-list",4),k.ec(8,ie,1,2,"app-content-row",5),k.Jb(),k.Jb()),2&e&&(k.xb(4),k.Xb("ngIf",0==t.contentList.length),k.xb(4),k.Xb("ngForOf",t.contentList))},directives:[C.h,S,X,C.g,F.j,C.o,C.p,C.m,F.i,C.n,W],styles:[""]}),re);function se(e,t){1&e&&k.Ib(0,"ion-progress-bar",6)}function ae(e,t){if(1&e){var n=k.Lb();k.Kb(0,"app-content-row",7),k.Sb("click",(function(){k.bc(n);var e=t.$implicit;return k.Ub().showContent(e)})),k.Jb()}if(2&e){var i=t.$implicit,r=k.Ub();k.Xb("content",r.content(i))}}var ce,ue,le=[{path:v.b.MOVIE,component:ee},{path:v.b.TV,component:(ce=function(){function e(t,i){n(this,e),this.tv=t,this.router=i,this.shows=[],this.searchTerm=""}return r(e,[{key:"ngOnInit",value:function(){this.fetchAllShows()}},{key:"ngOnDestroy",value:function(){this.shows=[]}},{key:"searchChange",value:function(e){"string"==typeof e&&(this.searchTerm=e,""!=e&&e?this.searchShows():this.fetchAllShows())}},{key:"fetchAllShows",value:function(){var e=this;return this.tv.list().then((function(t){return e.shows=t}))}},{key:"searchShows",value:function(){var e=this;return this.tv.search(this.searchTerm).then((function(t){return e.shows=t}))}},{key:"content",value:function(e){return new I(e)}},{key:"showContent",value:function(e){this.router.navigate([v.b.TV,e.id])}},{key:"refresh",value:function(e){(""==this.searchTerm?this.fetchAllShows():this.searchShows()).then((function(){return e.target.complete()}))}}]),e}(),ce.\u0275fac=function(e){return new(e||ce)(k.Hb(D),k.Hb(d.g))},ce.\u0275cmp=k.Bb({type:ce,selectors:[["app-tv"]],decls:9,vars:2,consts:[["title","TV Shows"],["placeholder","Search TV Shows",3,"change"],["color","primary","type","indeterminate",4,"ngIf"],["slot","fixed",3,"ionRefresh"],["lines","full"],[3,"content","click",4,"ngFor","ngForOf"],["color","primary","type","indeterminate"],[3,"content","click"]],template:function(e,t){1&e&&(k.Kb(0,"ion-header"),k.Ib(1,"app-header",0),k.Kb(2,"app-search",1),k.Sb("change",(function(e){return t.searchChange(e)})),k.Jb(),k.Jb(),k.Kb(3,"ion-content"),k.ec(4,se,1,0,"ion-progress-bar",2),k.Kb(5,"ion-refresher",3),k.Sb("ionRefresh",(function(e){return t.refresh(e)})),k.Ib(6,"ion-refresher-content"),k.Jb(),k.Kb(7,"ion-list",4),k.ec(8,ae,1,1,"app-content-row",5),k.Jb(),k.Jb()),2&e&&(k.xb(4),k.Xb("ngIf",0==t.shows.length),k.xb(4),k.Xb("ngForOf",t.shows))},directives:[C.h,S,X,C.g,F.j,C.o,C.p,C.m,F.i,C.n,W],styles:[""]}),ce)},{path:"requests",component:oe},{path:"config",component:M},{path:":type/:id",component:L}],he=((ue=function e(){n(this,e)}).\u0275mod=k.Fb({type:ue}),ue.\u0275inj=k.Eb({factory:function(e){return new(e||ue)},imports:[[d.i.forChild(le)],d.i]}),ue)}}])}();